(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1139:function(e,s,a){Promise.resolve().then(a.bind(a,5755))},5755:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return t}});var n=a(3827);a(4039);var i=a(8796),c=a(8209),r=a(4090);a(5712);var l=function(e){let{data:s}=e;return(0,n.jsx)("div",{className:"main-chat",children:"receiver"===s.from?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"left",children:[(0,n.jsx)("div",{className:"username",children:(0,n.jsx)("label",{children:s.by.substring(0,10)})}),s.message]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"right",children:[(0,n.jsx)("div",{className:"username",children:(0,n.jsx)("label",{children:s.by.substring(0,10)})}),s.message]})})})};function t(){let[e,s]=(0,r.useState)(123),[a,t]=(0,r.useState)([]),[o,d]=(0,r.useState)(""),m=(0,r.useMemo)(()=>(0,c.io)(),[]);return console.log(m),(0,r.useEffect)(()=>(m.emit("join-room",e),()=>{m.emit("leave-room",e)}),[e]),(0,r.useEffect)(()=>(console.log("2nd wala"),m.on("receive_message",e=>{console.log("message received "+e),t(s=>[...s,{message:e.data,from:"receiver",by:e.by}])}),()=>{}),[m]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"main",children:[(0,n.jsx)("div",{className:"header",children:"header"}),(0,n.jsxs)("div",{className:"body",children:[(0,n.jsxs)("div",{className:"nevigation",children:[(0,n.jsx)("div",{className:"room",onClick:()=>{s(123),t([])},children:"room123"}),(0,n.jsx)("div",{className:"room",onClick:()=>{s(201),t([])},children:"room201"}),(0,n.jsx)("div",{className:"room",onClick:()=>{s(101),t([])},children:"room101"})]}),(0,n.jsxs)("div",{className:"chatscreen",children:[(0,n.jsxs)("div",{className:"chatheader",children:[(0,n.jsx)("img",{className:"chat-image"}),(0,n.jsx)("span",{children:e})]}),(0,n.jsx)("div",{className:"chats",children:a.map((e,s)=>(0,n.jsx)(l,{data:e},s))}),(0,n.jsx)("div",{className:"chatinput",children:(0,n.jsxs)("div",{className:"chatinput-sender",children:[(0,n.jsx)("input",{type:"text",placeholder:"Type you message here....",value:o,onChange:e=>{d(e.target.value)}}),(0,n.jsxs)("button",{onClick:function(){""!==o&&(console.log("button clicked"),t(e=>[...e,{message:o,from:"sender",by:m.id}]),m.emit("send_message",{data:o,room:e}),d(""))},children:[" ",(0,n.jsx)(i.OUD,{})]})]})})]})]})]})})}},5712:function(){},4039:function(){}},function(e){e.O(0,[452,699,971,69,744],function(){return e(e.s=1139)}),_N_E=e.O()}]);